@import ../../../assets/css/_variables
@import ../../../assets/css/_animations
@import ../../../assets/css/_loaders
@import ../../../assets/css/_sombras
@import ../../../assets/css/preformas/_detalles

:host
    display: flex
    height: 100%
    padding: 5px
    position: relative

.nuevo-personaje-shell
    position: relative
    display: flex
    flex: 1 0 100%
    min-height: 0

    mat-tab-group
        flex: 1 0 100%

        ::ng-deep mat-tab-header
            background-color: #353538
            pointer-events: none

        ::ng-deep .mdc-tab__text-label
            font-size: 15px
            font-weight: 300

    app-generador-caracteristicas-modal
        position: absolute
        inset: 0
        z-index: 50

    .col-md-4 div, .col-12 div
        border: 0

.basicos-view
    position: relative
    height: 100%
    overflow: auto

.basicos-content
    padding-bottom: 76px

.basicos-col
    min-height: min-content

.basicos-action-fixed
    position: absolute
    right: 16px
    bottom: 12px
    z-index: 6
    display: flex
    justify-content: flex-end

    button
        display: inline-flex
        align-items: center
        gap: 6px

    button[disabled]
        opacity: 0.55

.field-grid
    display: grid
    grid-template-columns: repeat(auto-fit, minmax(190px, 1fr))
    gap: 10px

    mat-form-field
        width: 100%

.full-span
    grid-column: 1 / -1

.nombre-hero__field
    width: 100%

    ::ng-deep .mdc-text-field
        min-height: 72px

    input
        font-size: 1.2rem
        font-weight: 600
        letter-spacing: 0.02rem

.nombre-hero__hint
    color: #bfbfbf
    font-size: 0.92rem

.seccion-form
    .field-grid
        ::ng-deep .mdc-text-field
            border: none !important
            box-shadow: none !important

        ::ng-deep .mdc-line-ripple::before, ::ng-deep .mdc-line-ripple::after
            border-bottom-color: transparent !important

        ::ng-deep .mat-mdc-form-field-subscript-wrapper
            display: block

.alineamiento-bloque, .edad-bloque, .deidad-bloque
    display: flex
    flex-direction: column
    gap: 0

    ::ng-deep .mat-mdc-form-field-subscript-wrapper
        height: 0 !important
        min-height: 0 !important
        padding: 0 !important

    ::ng-deep .mat-mdc-form-field-bottom-align::before
        display: none !important

    ::ng-deep .mat-mdc-form-field-infix
        padding-bottom: 0 !important

.alineamiento-preferencias
    background-color: rgba(255, 255, 255, 0.04)
    border: 0
    border-bottom: 1px solid #5f5f5f
    border-radius: 0
    margin-top: -2px
    padding: 8px
    font-size: 0.9rem
    line-height: 1.4

.edad-contexto
    background-color: rgba(255, 255, 255, 0.04)
    border: 0
    border-bottom: 1px solid #5f5f5f
    border-radius: 0
    margin-top: -2px
    padding: 8px
    font-size: 0.9rem
    line-height: 1.4

.deidad-contexto
    background-color: rgba(255, 255, 255, 0.04)
    border: 0
    border-bottom: 1px solid #5f5f5f
    border-radius: 0
    margin-top: -2px
    padding: 8px
    font-size: 0.9rem
    line-height: 1.4

.deidad-tags
    display: flex
    align-items: flex-start
    gap: 6px
    flex-wrap: wrap

    mat-chip-set
        display: inline-flex
        flex-wrap: wrap
        gap: 4px

.deidad-tag-label
    font-weight: 600
    font-size: 0.84rem
    opacity: 0.9

.alineamiento-feedback
    background-color: rgba(255, 183, 0, 0.12)
    border: 1px solid rgba(255, 183, 0, 0.35)
    border-radius: 6px
    padding: 8px
    font-size: 0.9rem
    line-height: 1.4

.plantillas-skeleton
    background-color: rgba(255, 255, 255, 0.03)

.plantillas-layout
    min-height: 0

.plantillas-filtros
    display: grid
    grid-template-columns: minmax(220px, 1.2fr) minmax(220px, 1.2fr) auto
    gap: 10px
    align-items: center

.filtro-chip
    align-self: center
    display: inline-flex
    align-items: center
    margin-top: -22px
    box-shadow: rgba(0, 0, 0, 0.09) 0px 1px .5px, rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px

.plantillas-zonas
    flex: 1 1 auto
    min-height: 0

    ::ng-deep .mat-mdc-chip .mat-mdc-chip-action-label
        display: inline-flex !important
        align-items: center
        flex-wrap: wrap
        gap: .25rem

    ::ng-deep .mat-mdc-chip .mdc-evolution-chip__action
        overflow: visible

.chip-bloqueada
    opacity: 0.75

.chip-seleccionada
    display: inline-flex
    align-items: center

.plantillas-resumen-linea
    display: flex
    flex-wrap: wrap
    gap: 8px

.resumen-chip-seleccion
    flex: 1 1 220px

.resumen-chip-tipo
    flex: 0 1 auto

.plantilla-detalle-btn
    margin-left: .25rem

.chip-alerta
    height: auto
    white-space: normal
    line-height: 1.3
    overflow-wrap: anywhere

textarea
    resize: vertical

.bad
    background-color: rgb(87, 66, 66)

.ventajas-view
    min-height: 0

.homebrew-banner
    height: auto
    min-height: 40px
    white-space: normal
    line-height: 1.3

    ::ng-deep .mdc-evolution-chip__action,
    ::ng-deep .mdc-evolution-chip__action--primary
        height: auto !important
        width: 100% !important

    ::ng-deep .mat-mdc-chip-action-label
        display: flex !important
        align-items: center
        justify-content: space-between
        gap: 8px
        width: 100%
        white-space: normal !important

.homebrew-banner-text
    flex: 1 1 auto
    min-width: 0

.homebrew-help-chip
    flex: 0 0 auto
    margin-left: auto
    display: inline-flex
    align-items: center
    justify-content: center
    width: 34px
    height: 34px
    border: 1px solid rgba(255, 255, 255, 0.28)
    border-radius: 999px
    background: rgba(0, 0, 0, 0.16)
    color: inherit
    cursor: pointer
    padding: 0

    mat-icon
        font-size: 18px
        width: 18px
        height: 18px

    &:hover
        background: rgba(0, 0, 0, 0.24)

.ventajas-resumen-barra
    display: flex
    flex-wrap: wrap
    gap: 8px
    align-items: center

.ventajas-listados
    flex: 1 1 auto
    min-height: 0

.clases-view
    min-height: 0

    .mat-mdc-card
        min-height: 0

.clases-filtros
    display: grid
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr))
    gap: 12px 16px
    align-items: center
    justify-content: space-between

.clase-homebrew-chip
    justify-self: end
    margin-top: -22px

.clases-resultados
    flex: 1 1 auto
    min-height: 0
    display: flex
    flex-direction: column

.clases-placeholder
    margin: auto 0

.clases-acciones
    margin-top: auto
    display: flex
    justify-content: flex-end
    padding: 8px

.clases-tabla-scroll
    border: 1px solid rgba(255, 255, 255, 0.16)
    border-radius: 8px
    background: #2e3035
    flex: 1 1 auto
    min-height: 0
    height: 100%
    max-height: none

.tabla-scroll
    max-height: 55vh
    overflow: auto

.tabla-ventajas
    width: 100%
    border-collapse: collapse
    font-size: .92rem

    th, td
        border-bottom: 1px solid rgba(255, 255, 255, 0.12)
        padding: 6px
        vertical-align: middle

    th
        position: sticky
        top: 0
        background: #323234
        z-index: 2
        white-space: nowrap

.tabla-clases
    table-layout: fixed

    th
        background: #25272d
        color: #f3f4f6
        font-weight: 600

    td
        color: #f6f7f9
        white-space: normal
        overflow-wrap: anywhere
        vertical-align: top

    th:nth-child(1), td:nth-child(1)
        width: 22%

    th:nth-child(2), td:nth-child(2)
        width: 10%

    th:nth-child(3), td:nth-child(3)
        width: 24%

    th:nth-child(4), td:nth-child(4)
        width: 11%

    th:nth-child(5), td:nth-child(5)
        width: 15%

    th:last-child, td:last-child
        width: 14%

    .fila-clase:nth-child(odd)
        background: rgba(255, 255, 255, 0.035)

    .fila-clase:nth-child(even)
        background: rgba(255, 255, 255, 0.02)

    .fila-clase:hover
        background: rgba(255, 255, 255, 0.12)
        cursor: pointer

    .fila-clase--seleccionada
        outline: 2px solid rgba(255, 235, 59, 0.9)
        outline-offset: -2px
        background: rgba(255, 235, 59, 0.1) !important

    .fila-clase--alineamiento-compatible td:first-child
        border-left: 4px solid #24c26f

    .fila-clase--alineamiento-incompatible td:first-child
        border-left: 4px solid #ff6b6b

.clase-celda
    display: flex
    flex-direction: column
    gap: 6px

.clase-celda-chipline
    display: flex
    flex-wrap: wrap
    gap: 4px

.clase-detalle-btn
    min-height: 36px

    .mat-icon
        margin-right: 4px

.chip-alineamiento-clase
    font-weight: 600

.chip-ali-compatible
    background: rgba(36, 194, 111, 0.22) !important

.chip-ali-incompatible
    background: rgba(255, 107, 107, 0.25) !important

.beneficios-clase-chips,
.roles-clase-chips
    display: inline-flex
    flex-wrap: wrap
    gap: 4px

.beneficios-clase-chips
    ::ng-deep .mdc-evolution-chip__text-label
        white-space: normal !important

.fila-pendiente
    background: rgba(175, 125, 0, 0.15)

::ng-deep .mat-mdc-form-field-subscript-wrapper
    padding: 0 2px

@media (max-width: 768px)
    .basicos-content
        padding-bottom: 88px

    .basicos-action-fixed
        right: 10px
        bottom: 10px

    .nombre-hero__field
        ::ng-deep .mdc-text-field
            min-height: 60px

        input
            font-size: 1.05rem

    .plantillas-filtros
        grid-template-columns: 1fr

    .clases-filtros
        grid-template-columns: 1fr

    .clase-homebrew-chip
        justify-self: start
        margin-top: 0

    .tabla-scroll
        max-height: 38vh

    .clases-tabla-scroll
        max-height: none
